<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-swipeable-container/iron-swipeable-container.html">
<dom-module id="meme-card">

  <template>
    <style>
      .meme {
        height:300px;
        width: 300px;
      }

      .meme-card {
        padding: 0;
        height: 300px;
        width: 300px;
      }

      .meme-text, .meme-card-image, img {
        font-size: 34px;
        position: absolute;
        color: white;
        padding: 0;
        max-width: 350px;
        max-height: 200px;
        font-family: Impact, Charcoal, sans-serif;
        font-weight: 900;
        text-transform: uppercase;
        text-align: center;
        -webkit-text-stroke: 1px black;
        text-shadow:
                2px 2px 0 #000,
                  /* Simulated effect for Firefox and Opera
                     and nice enhancement for WebKit */
                -1px -1px 0 #000,
                1px -1px 0 #000,
                -1px  1px 0 #000,
                1px  1px 0 #000;
        /* If you want your things to swipe nicely, you might want to disable
         * text selection on those elements. */
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
      }

      .meme-card img {
        background-color: lightgray;
      }

      .meme-header {
        top: -18px;
      }

      .meme-footer {
        top: 180px;
      }
    </style>
    <iron-swipeable-container swipe-style="curve">
      <paper-card class="meme-card">
        <!-- FIXME: iron-image does not seem to work well with html2canvas -->
        <!-- <iron-image style="height: 300px; width: 300px; background-color: lightgray;"
                    sizing="cover" preload fade src="[[item.url]]"></iron-image> -->
        <img src="[[item.url]]" width="300" height="300" />
        <p class="meme-header meme-text">{{headerLine}}</p>
        <p class="meme-footer meme-text">{{footerLine}}</p>
      </paper-card>
    </iron-swipeable-container>

  </template>
  <script>
    Polymer({
      is: 'meme-card',

      properties: {
        item: {
          type: Object
        },
        headerLine: {
          type: String
        },
        footerLine: {
          type: String
        }
      }
    });
  </script>
</dom-module>